{% extends "base.html" %}
{% load static %}

{% block title %}Vue DRF{% endblock title %}

{% block header %}Vue and Django Rest Framework{% endblock header %}

{% block loadjs %}
  {{ block.super }}
  <script src="{% static 'vue/js/vue.js' %}" type="text/javascript"></script>
  <!-- <script src="{% static 'vue/js/'} -->
{% endblock loadjs %}

{% block content %}
<div id="app">
    <p> [[ title ]] </p>
    <ul>
        <li v-for="count in {{ counters }}">
            <h4>[[ count ]]</h4>
        </li>
    </ul>
    <ul>
        <li><a href="{% url 'vue_test:index' %}" class="sidebar-item">Django Template with Vue Logic</a></li>
        <li><a href="{% url 'vue_test:class_based_drf' %}" class="sidebar-item">Class Based DRF</a></li>
        <ul>
        {% for item_pk in db_pk %}
        <li><a href="{% url 'vue_test:class_detail' item_pk %}" class="sidebar-item">Class Based Detail View DRF Item {{ item_pk }}</a></li>
        {% endfor item_pk %}
        </ul>
        <li><a href="{% url 'vue_test:api-root' %}" class="side_bar_item">DRF API Root</a></li>
        <li><a href="{% url 'vue_test:fueleffeciency-list' %}" class="sidebar-item">Fuel Effenciency Routing</a></li>
        <ul>
        <table class=table>
        <tr>
          <th>Item</th>
          <th>html view</th>
          <th>xml view</th>
          <th>json view</th>
        </tr>
        {% for item_pk in db_pk %}
          <tr>
            <td>{{ item_pk }}</td>
            <td><a href="{% url 'vue_test:fueleffeciency-detail' item_pk %}" class="sidebar-item">html</a></td>
            <td><a href="{% url 'vue_test:fueleffeciency-detail' item_pk 'xml' %}" class="sidebar-item">xml</a></td>
            <td><a href="{% url 'vue_test:fueleffeciency-detail' item_pk 'json' %}" class="sidebar-item">json</a></td>
          </tr>
        {% endfor item_pk %}  
        </table>
        <li><a href="../api-auth/login/" class="sidebar-item">Authentication via DRM</a></li>
    </ul>
</div>
<script>
new Vue({
  delimiters: ['[[', ']]'],
  el: '#app',
  data: {
    title: 'This text',
  }
})
</script>
<div>
<blockquote class="blockquote blockquote-reverse">
    <p class="mb-0">It is now {{ current_datestuff }}.</p>
    <footer class="blockquote-footer">datetime.datetime.now()</footer>
</blockquote>
</div>    
{% endblock content %}